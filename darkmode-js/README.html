<h1 id="darkmodejs"><a class="markdownIt-Anchor" href="#darkmodejs"></a> Darkmode.js</h1>
<p><img src="https://img.shields.io/github/license/mashape/apistatus.svg" alt="GitHub" /> <a href="https://medium.com/@sandoche"><img src="https://badgen.net/badge/icon/medium?icon=medium&amp;label" alt="Medium Badge" /></a> <a href="https://twitter.com/sandochee"><img src="https://img.shields.io/twitter/follow/sandochee.svg?style=social" alt="Twitter: sandochee" /></a></p>
<p>üåì Add a Dark Mode / Night Mode to your website in a few seconds</p>
<p>This library uses the CSS <code>mix-blend-mode</code> to bring Dark Mode to any of your websites.
Just copy-paste the snippet and you will get a widget to turn on and off the Dark Mode. You can also use it without the widget programmatically. The plugin is lightweight, built-in Vanilla.
It also uses local storage by default, so your last setting will be remembered!</p>
<p>I have been inspired by this article: <a href="https://dev.wgao19.cc/2019-05-04__sun-moon-blending-mode/">https://dev.wgao19.cc/2019-05-04__sun-moon-blending-mode/</a></p>
<h2 id="features"><a class="markdownIt-Anchor" href="#features"></a> Features</h2>
<ul>
<li>Widget appears automatically</li>
<li>Saving users choice</li>
<li>Automatically shows Darkmode if the OS prefered theme is dark (if the browsers support <code>prefers-color-scheme</code>)</li>
<li>Can be used programmatically without widget</li>
</ul>
<h2 id="demo"><a class="markdownIt-Anchor" href="#demo"></a> ‚ú® Demo</h2>
<p>Check out the demo in these websites:</p>
<ul>
<li><a href="https://darkmodejs.learn.uno">https://darkmodejs.learn.uno</a></li>
<li><a href="https://tradivegan.com">https://tradivegan.com</a> (with custom label)</li>
<li><a href="https://what.toeat.in">https://what.toeat.in</a> (with custom label)</li>
<li><a href="https://www.kanbanote.com">https://www.kanbanote.com</a> (without the widget, once logged in)</li>
<li><a href="https://www.sandoche.com">https://www.sandoche.com</a> (with custom label)</li>
<li><a href="https://pilab.dev">https://pilab.dev</a> (without the widget, with a custom toggle button)</li>
</ul>
<h2 id="wordpress-plugins"><a class="markdownIt-Anchor" href="#wordpress-plugins"></a> Wordpress plugins</h2>
<p>If you are using Wordpress you may want to have a look at these plugins based on Darkmode.js:</p>
<ul>
<li><a href="https://wordpress.org/plugins/blackout-darkmode-widget/">https://wordpress.org/plugins/blackout-darkmode-widget/</a></li>
<li><a href="https://wordpress.org/plugins/darkmode/">https://wordpress.org/plugins/darkmode/</a></li>
</ul>
<h2 id="how-to-use"><a class="markdownIt-Anchor" href="#how-to-use"></a> üìñ How to use</h2>
<p>Darkmode.js is very easy to use, just copy-paste the following code or use the npm package.</p>
<h3 id="easy-way-using-the-jsdelivr-cdn"><a class="markdownIt-Anchor" href="#easy-way-using-the-jsdelivr-cdn"></a> üöÄ Easy way (using the JSDelivr CDN)</h3>
<p>Just add this code to your HTML page:</p>
<pre class="highlight"><code class="html"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript">
  <span class="keyword">function</span> <span class="title function_">addDarkmodeWidget</span>(<span class="params"></span>) {
    <span class="keyword">new</span> <span class="title class_">Darkmode</span>().<span class="title function_">showWidget</span>();
  }
  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, addDarkmodeWidget);
</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
</code></pre>
<h3 id="using-npm"><a class="markdownIt-Anchor" href="#using-npm"></a> üì¶ Using NPM</h3>
<pre class="highlight"><code class="sh">npm install darkmode-js
</code></pre>
<p>Then add the following JavaScript code:</p>
<pre class="highlight"><code class="javascript"><span class="keyword">import</span> <span class="title class_">Darkmode</span> <span class="keyword">from</span> <span class="string">&#x27;darkmode-js&#x27;</span>;

<span class="keyword">new</span> <span class="title class_">Darkmode</span>().<span class="title function_">showWidget</span>();
</code></pre>
<h2 id="Ô∏è-options"><a class="markdownIt-Anchor" href="#Ô∏è-options"></a> ‚öôÔ∏è Options</h2>
<p>Here are the option availables:</p>
<pre class="highlight"><code class="javascript"><span class="keyword">const</span> options = {
  <span class="attr">bottom</span>: <span class="string">&#x27;64px&#x27;</span>, <span class="comment">// default: &#x27;32px&#x27;</span>
  <span class="attr">right</span>: <span class="string">&#x27;unset&#x27;</span>, <span class="comment">// default: &#x27;32px&#x27;</span>
  <span class="attr">left</span>: <span class="string">&#x27;32px&#x27;</span>, <span class="comment">// default: &#x27;unset&#x27;</span>
  <span class="attr">time</span>: <span class="string">&#x27;0.5s&#x27;</span>, <span class="comment">// default: &#x27;0.3s&#x27;</span>
  <span class="attr">mixColor</span>: <span class="string">&#x27;#fff&#x27;</span>, <span class="comment">// default: &#x27;#fff&#x27;</span>
  <span class="attr">backgroundColor</span>: <span class="string">&#x27;#fff&#x27;</span>,  <span class="comment">// default: &#x27;#fff&#x27;</span>
  <span class="attr">buttonColorDark</span>: <span class="string">&#x27;#100f2c&#x27;</span>,  <span class="comment">// default: &#x27;#100f2c&#x27;</span>
  <span class="attr">buttonColorLight</span>: <span class="string">&#x27;#fff&#x27;</span>, <span class="comment">// default: &#x27;#fff&#x27;</span>
  <span class="attr">saveInCookies</span>: <span class="literal">false</span>, <span class="comment">// default: true,</span>
  <span class="attr">label</span>: <span class="string">&#x27;üåì&#x27;</span>, <span class="comment">// default: &#x27;&#x27;</span>
  <span class="attr">autoMatchOsTheme</span>: <span class="literal">true</span> <span class="comment">// default: true</span>
}

<span class="keyword">const</span> darkmode = <span class="keyword">new</span> <span class="title class_">Darkmode</span>(options);
darkmode.<span class="title function_">showWidget</span>();
</code></pre>
<h2 id="Ô∏è-methods"><a class="markdownIt-Anchor" href="#Ô∏è-methods"></a> ‚ñ∂Ô∏è Methods</h2>
<p>If you don't want to show the widget and enable/disable Darkmode programatically you can use the method <code>toggle()</code>. You can also check if the Dark Mode is activated with the method <code>isActivated()</code>. See them in action in the following example:</p>
<pre class="highlight"><code class="javascript"><span class="keyword">const</span> darkmode =  <span class="keyword">new</span> <span class="title class_">Darkmode</span>();
darkmode.<span class="title function_">toggle</span>();
<span class="variable language_">console</span>.<span class="title function_">log</span>(darkmode.<span class="title function_">isActivated</span>()) <span class="comment">// will return true</span>
</code></pre>
<h2 id="override-style"><a class="markdownIt-Anchor" href="#override-style"></a> Override style</h2>
<ul>
<li>A CSS class <code>darkmode--activated</code> is added to the body tag when the darkmode is activated. You can take advantage of it to override the style and have a custom style</li>
<li>Use the class <code>darkmode-ignore</code> where you don't want to apply darkmode</li>
<li>You can also add this style: <code>isolation: isolate;</code> in your CSS, this will also ignore the darkmode.</li>
<li>It is also possible to revert the Dark Mode with this style <code>mix-blend-mode: difference;</code></li>
</ul>
<h3 id="examples"><a class="markdownIt-Anchor" href="#examples"></a> Examples</h3>
<pre class="highlight"><code class="css"><span class="selector-class">.darkmode--activated</span> <span class="selector-tag">p</span>, <span class="selector-class">.darkmode--activated</span> <span class="selector-tag">li</span> {
  <span class="attribute">color</span>: <span class="number">#000</span>;
}

<span class="selector-class">.button</span> {
  <span class="attribute">isolation</span>: isolate;
}

<span class="selector-class">.darkmode--activated</span> <span class="selector-class">.logo</span> {
  <span class="attribute">mix-blend-mode</span>: difference;
}
</code></pre>
<pre class="highlight"><code class="html"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;darkmode-ignore&quot;</span>&gt;</span>üò¨<span class="tag">&lt;<span class="name">span</span>&gt;</span>
</code></pre>
<h2 id="debug"><a class="markdownIt-Anchor" href="#debug"></a> Debug</h2>
<p>If it does not work you may have to add the following code, but this will invalidate the classes to override.</p>
<pre class="highlight"><code class="css"><span class="selector-class">.darkmode-layer</span>, <span class="selector-class">.darkmode-toggle</span> {
  <span class="attribute">z-index</span>: <span class="number">500</span>;
}
</code></pre>
<h2 id="browser-compatibility"><a class="markdownIt-Anchor" href="#browser-compatibility"></a> Browser compatibility</h2>
<p>This library uses the CSS <code>mix-blend-mode: difference;</code> to provide the Dark Mode.
It may not be compatible with all the browsers. Therefore the widget has been hidden in Internet Explorer and Edge.
This library also uses <code>prefers-color-scheme: dark</code> to automatically enable the Dark Mode if the OS prefered theme is dark.</p>
<p>Check the compatibility here:</p>
<ul>
<li><a href="https://caniuse.com/#search=mix-blend-mode">https://caniuse.com/#search=mix-blend-mode</a></li>
<li><a href="https://caniuse.com/#search=prefers-color-scheme">https://caniuse.com/#search=prefers-color-scheme</a> (to activate Dark Mode automatically)</li>
</ul>
<h2 id="development"><a class="markdownIt-Anchor" href="#development"></a> Development</h2>
<ul>
<li><code>yarn build</code> or <code>npm run build</code> - produces a production version of your library under the <code>lib</code> folder</li>
<li><code>yarn dev</code> or <code>npm run dev</code> - produces development version of your library and runs a watcher</li>
<li><code>yarn test</code> or <code>npm run test</code> - it runs the tests üòÉ</li>
<li><code>yarn test:watch</code> or <code>npm run test:watch</code> - same as above but in a watch mode</li>
</ul>
<h2 id="Ô∏è-show-your-support"><a class="markdownIt-Anchor" href="#Ô∏è-show-your-support"></a> ‚≠êÔ∏è Show your support</h2>
<p>Please ‚≠êÔ∏è this repository if this project helped you!</p>
<p><a href="https://www.patreon.com/sandoche"><a href="https://www.patreon.com/sandoche"><img src="https://c5.patreon.com/external/logo/become_a_patron_button.png" alt="patreon.png" /></a></a></p>
<h2 id="buy-me-a-beer"><a class="markdownIt-Anchor" href="#buy-me-a-beer"></a> üç∫ Buy me a beer</h2>
<p>If you like this project, feel free to donate:</p>
<ul>
<li>PayPal: <a href="https://www.paypal.me/kanbanote">https://www.paypal.me/kanbanote</a></li>
<li>Bitcoin: 19JiNZ1LkMaz57tewqJaTg2hQWH4RgW4Yp</li>
<li>Ethereum: 0xded81fa4624e05339924355fe3504ba9587d5419</li>
<li>Monero: 43jqzMquW2q989UKSrB2YbeffhmJhbYb2Yxu289bv7pLRh4xVgMKj5yTd52iL6x1dvCYs9ERg5biHYxMjGkpSTs6S2jMyJn</li>
<li>Motive: MOTIV-25T5-SD65-V7LJ-BBWRD (Get Motive Now: <a href="https://motive.network">https://motive.network</a>)</li>
</ul>
